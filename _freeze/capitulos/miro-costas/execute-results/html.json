{
  "hash": "e5b7459b55ccc9e7e9ea46216589e073",
  "result": {
    "engine": "knitr",
    "markdown": "# Datos\n\n![](images/fisiografía.png)\n\n[Characterization of Surface Evidence of Groundwater Flow Systems](https://www.mdpi.com/2073-4441/12/9/2459)\n\n## Agenda\n\n\n::: {.cell}\n\n:::\n\n\n\nLa reunión de inició del proyecto: *“Estimación de la integridad ecosistémica de las costas arenosas mexicanas a través de técnicas de aprendizaje de máquina (CF-2023-G-1497)”*, se realizó del Miércoles 29 al viernes 31 de mayo de 2024.\n\n\n\n### Día 1 Miércoles 29 de mayo\n\n\n**10:00-10:20 Inicio **\n\n+ Bienvenida\n+ Presentación del taller\n+ Presentación de asistentes \n\n**10:20-11:20 ¿Por qué creemos que es necesario un proyecto como este?**\n\n+ Visión integral \n+ Caso particular de las costas\n+ Desarrollo de habilidades \n+ ¿Cómo sugerimos hacerlo? \n+ Co-construcción\n+ Ciencia abierta\n+ Principios fair \n+ Análisis con base en propuesta del seea ea\n+ Flujos de trabajo (pipelines)\n\n**11:20-12:20 Descripción y avances del proyecto**\n\n+ Generalidades\n+ Marco conceptual\n+ Compromisos para las tres etapas\n+ Avances \n\n**12:20-12:40 Descanso**\n\n\n**12:40-14:00 El Sistema de Contabilidad de Ecosistemas.**\n\n+ Activos ecosistémicos\n+ Cuentas de extensión\n+ Condición\n+ Servicios ecosistémicos\n+ Cuenta de condición\n+ Modelo de integridad ecosistémica\n\n**14:00-15:00 Comida**\n\n\n**15:00-17:00 Estrategia metodológica**\n\n+ De lo conceptual a lo analítico (de miro a nética)\n+ Enfoque causal\n+ Probabilístico\n+ Documentación\n+ Gestión de datos\n\n### Día 2 jueves 30 de mayo\n\n\n**10:00 -14:00 Gestión de datos y Modelación Participativa**\n\n+ Variables existentes\n+ Nuevas variables\n+ Sugerencias para documentar\n+ Gestionar datos.\n+ Ejercicio de modelación participativa\n\n**14:00-15:00 Comida y foto grupal**\n\n\n**15:00-17:00 Acuerdos y siguientes pasos**\n\n\n### Día 3 viernes 31 de mayo\n\n\n**10:00 -12:20 Evaluación integral en las costas de Quintana Roo**\n\n\n**12:20 -14:00 Acuerdos y siguientes pasos**\n\n\n**14:00  Fin del taller**\n\n\n\n## Miro\n\n### Construcción colaborativa de Redes Bayesianas\n\n::: {layout-ncol=\"2\"}\nLa propuesta que hacemos es usar *Miro* como plataforma de debate y construcción de consenso. \nBuscamos así aproximarnos a la estructura causal que vincula las variables que determinan el rendimiento y la sustentabilidad (social, económica y ambiental). Una vez resuelta esta etapa, es necesario transferir lo acordado en *Miro* a plataformas de análisis estadístico. Aquí, nos propusimos trasladar los resultados de *Miro* a *R*. Al hacer esto las posibilidades analíticas se potencian muy ampliamente. Como veremos, podemos recurrir a `dagitty` o incluso utilizar *Python* y *Netica*. \n\n![](Images/colaboración.png)\n:::\n\nHemos preparado una biblioteca con las rutinas necesarias para transferir lo trabajado en **Miro** (básicamente desarrollo conceptual) a **R**  en donde se podrá  continuar con el desarrollo formal del modelo según se requiera, cualitativa y cuantitativamente. Para instalarla y usarla hay que seguir las [indicaciones que se describen aquí](https://github.com/equihuam/miro2bayesNet). Consideren que para usarla habrá que hacer algunas preparaciones para interactuar con **Miro**. Se trata básicamente de tener los permisos de acceso. Habrá que obtener credenciales en la forma de un *token*, el cual hay que evitar distribuir. Por lo tanto, para operar hemos recurrido a la biblioteca `keyring` para mantenerlas confidenciales. Esta biblioteca permite utilizar el sistema de seguridad del equipo para la gestión de las claves. Para dar de alta una llave utiliza la instrucción de registro `key_set`, necesitarás dos identificadores de tu preferencia que deberán ir entrecomillados:\n\n`key_set(service = \"[referencia de tu preferencia]\", username = \"[identificador de tu gusto]\")`\n\nUna vez registrada en el equipo la llave, queda lista para su uso en cualquier momento en esa máquina y deberás proporcionar los dos identificadores que elegiste para operar las *ingesta* a **R**, del modelo hecho en **Miro**.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (!require(miro2bayes))\n{\n  library(devtools)\n  install_github(\"equihuam/miro2bayesNet\", force = TRUE)\n}\n\nlibrary(miro2bayes)\nlibrary(bnlearn)\nlibrary(bnviewer)\nlibrary(tidyverse, quietly = TRUE, warn.conflicts = FALSE)\n\ntableros <- miroBoards(servMiro = \"miro\", user = \"miguel-edu-token\")\ntableros[, c(\"name\", \"id\")]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                name           id\n1                      Costa arenosa uXjVKB6PRSY=\n2              Education Plan Basics uXjVPZCsPDE=\n3 Education Plan Apps & Integrations uXjVPZCsPUo=\n4      Education Plan Administration uXjVPZCsPVc=\n5    Education Plan Useful Resources uXjVPZCsPVQ=\n```\n\n\n:::\n\n```{.r .cell-code}\ntablero_tr <- tableros %>%\n              filter(str_detect(name, \"Costa\")) %>%\n              select(id, name)\n\ndatos_miro <- getMiro(servMiro = \"miro\", user = \"miguel-edu-token\",\n                        board = tablero_tr)\n\nmiroValidation(datos_miro)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nMiro board origin:      Costa arenosa\nIs it a TRUE DAG?:      Graph is acyclic\nNumber of sticky notes: 46\nNodes without var:      4\nNumber of linked nodes: 15\nDuplicated nodes:       0\nNumber of arcs:         13\nWell connected arcs:    13\nNumb. Loose arcs:       0\nDuplicated arcs:        0\n```\n\n\n:::\n\n```{.r .cell-code}\n#neticaMiro <- miro2DNE(datos_miro)\n\n#write(neticaMiro, \"costa-arenosa.dne\")\n\nnetMiro_bn <- miro2bnlearn(datos_miro)\nnetMiro_bn\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  Random/Generated Bayesian network\n\n  model:\n   [redondez][vel_viento][dir_viento][pot_ola][dir_ola][d50][lluvia_anual]\n   [secas][mareas][dir_costa][radiacion][flujo_subterraneo][corrientes_m]\n   [erosibilidad|redondez:vel_viento:dir_viento:pot_ola:dir_ola:d50:lluvia_anual:secas:mareas:dir_costa:radiacion:corrientes_m]\n   [aguas_disp|flujo_subterraneo]\n  nodes:                                 15 \n  arcs:                                  13 \n    undirected arcs:                     0 \n    directed arcs:                       13 \n  average markov blanket size:           10.53 \n  average neighbourhood size:            1.73 \n  average branching factor:              0.87 \n\n  generation algorithm:                  Empty \n```\n\n\n:::\n\n```{.r .cell-code}\nvariables <- tibble(var = datos_miro$nodes$var)\n```\n:::\n\n\n\n\n::: {.content-hidden when-format=\"pdf\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#graphviz.plot(netMiro_bn, layout = \"dot\")\n```\n:::\n\n\n\nLa lista de variables identificadas es:\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"htmlwidget-71e4092e41480fab859c\" style=\"width:90%;height:auto;\" class=\"datatables html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-71e4092e41480fab859c\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"potencia de la ola (datos horarios 1940-2022)https://confluence.ecmwf.int/display/CKB/ERA5%3A&amp;#43;data&amp;#43;documentation\",\"mareasMareografos de Pafícico y Atlántico (SEMAR) RODOLFO\",\"forma de crecimiento de vegetación de dunas:Tomar de base de datos de Ileana/conabio. Zonas con arbustivas tienden mayor erosión. en zonas como dice marisa eso no pasa\",\"disponinibilidad de arena -ancho playa\",\"geología(geomorfología,tipo de roca)Pedir carta geológica minera servicio geologico mexicano. Octavio  y Karla en formato shape &amp;#34;Geológica minera&amp;#34;https://www.sgm.gob.mx/CartasDisponibles/ (en pdf hasta 1:50000)https://www.sgm.gob.mx/GeoInfoMexGobMx/#(shape)\",\"Arrecifes de coral-Buscar la mejor capa: blaqueamiento, Copernicus o Conabiohttps://simar.conabio.gob.mx/explorer/?undefined\",\"pastos marinoshttps://simar.conabio.gob.mx/explorer/?undefined\",\"Disponibilidad de agua salobre o dulce\",\"Flujo subterráneo. Información disponible en SHP (polígonos). Solicitar a Rodolfo / Valeria. Tiene una clasificación. Nivel nacional. Artículo: https://www.mdpi.com/2073-4441/12/9/2459\",\"Sol. WB_Global solar atlas. https://globalsolaratlas.info/map?c&amp;#61;19.248922,-97.171326,9&amp;amp;s&amp;#61;19.519781,-96.911168&amp;amp;m&amp;#61;site \",\"EvapotraspiraciónEn terminos de germinación y cobertura\",\"NOTAS GENERALESJuntaremos playa y duna como un solo ecosistema. Sugerencia de Rodolfo\",\"Plataforma continental. GEBCO. Gridded Bathymetry data download.https://download.gebco.net\",\"Infraestructura\",\"ManglaresSIMARPaty Moreno\",\"Estructuras marinas\",\"Influencia antrópica\",\"ALTERACIONES ANTROPICAS DE LA Calidad del agua\",\"Pendiente de la playaInformación puntualMónica y otros\",\"Diámetro mediano D50(base de datos GICP-IIUNAM)\",\"Redondez sedimento. (base de datos GICP-IIUNAM)\",\"Dirección de la línea de costa con relación al oleaje y al vientoUsar línea de costa propuesta por  Rodolfo\",\"Efecto del sargazo\",\"Corrientes MarinasAtlas de corrientes IMTA de Efraín Mateos (Base de datos del CEMIE)VALERIA\",\"Especies invasorasUsar datos procesados por Julián\",\"Perfil de sueloPerfiles edafológicos se pueden encontrar en:https://www.inegi.org.mx/app/biblioteca/ficha.html?upc&amp;#61;702825266707Suelos sueltos y poco compactados son más susceptibles a la erosión eólica, lo que facilita la formación de dunas. Por otro lado, suelos más compactos pueden resistir mejor la acción del viento. La presencia de diferentes horizontes en el perfil edafológico puede afectar la disponibilidad de sedimentos para la formación de dunas. Un horizonte superficial arenoso es ideal para la movilización de partículas.\",\"Macroalgashttps://fjps.springeropen.com/articles/10.1186/s43094-020-00147-6\",\"Estacionalidad fuente: copernicus. posprocesar para ver también temporada de secas VALERIA - Marisa proporciona el criterio\",\"Condición\",\"Precipitación- fuente: copernicus. posprocesar para ver también temporada de secas VALERIA\",\"GastoEscurrimiento en cuencaAporte de sedimento terrígeno\",\"dirección de la ola (datos horarios 1940-2022)https://confluence.ecmwf.int/display/CKB/ERA5%3A&amp;#43;data&amp;#43;documentation\",\"velocidad del viento (datos horarios 1940-2022)https://confluence.ecmwf.int/display/CKB/ERA5%3A&amp;#43;data&amp;#43;documentationEventos de vientos extremos. Encontrar umbrales de viento y ver si favorecen la construcción o la destrucción de duna. ¿Velocidad de inicio de arrastre?WB_Atlas eólico mundial: https://globalwindatlas.info/es/PENDIENTE DEFINIR UMBRALES\",\"dirección del viento (datos horarios 1940-2022)https://confluence.ecmwf.int/display/CKB/ERA5%3A&amp;#43;data&amp;#43;documentation\",\"Detección\",\"Contexto\",\"Otro\",\"Intervención hunama\",\"HumedadEn terminos de germinación y cobertura\",\"Checar pagina de idea del instituto de geografíahttps://www.gits.igg.unam.mx/idea/descargaGaby Gómez\",\"Tasa de desplazamiento(Erosión- / acresión &amp;#43;)\",\"erosibilidad\",\"Resolución raster100 m por lado (equivalete a 3 segundos)En versión &amp;#34;caso de estudio&amp;#34; serán pixeles de 10m por lado (equivale a 0.3 segundos).\",\"Ale:Presencia de especies indicadoras sensibles a cambios en la costa:\",\"Aves marinas: chorlosAudubon society y Conell\",\"Sitios de anidación de tortugas marinas\"],[\"pot_ola\",\"mareas\",\"habito\",\"ancho_playa\",\"geologia\",\"coral\",\"pastos\",\"aguas_disp\",\"flujo_subterraneo\",\"radiacion\",\"evapotranspiracion\",\"notas_1\",\"plataforma_cont\",\"infraestruct\",\"mangle\",\"estruct_marina\",\"influ_antro\",\"alt_antro\",\"pendiente\",\"d50\",\"redondez\",\"dir_costa\",\"EfectoDelSargaso\",\"corrientes_m\",\"invasoras\",\"perfilsuelo\",\"macroalgas\",\"secas\",\"condicion\",\"lluvia_anual\",\"gasto\",\"dir_ola\",\"vel_viento\",\"dir_viento\",\"inf_2\",\"inf_1\",\"inf_4\",\"inf_3\",\"humedad\",\"notas_2\",\"-\",\"erosibilidad\",\"resolucion\",\"-\",\"-\",\"-\"],[\"blue\",\"blue\",\"dark_green\",\"dark_green\",\"blue\",\"dark_green\",\"dark_green\",\"blue\",\"blue\",\"blue\",\"dark_green\",\"gray\",\"blue\",\"orange\",\"dark_green\",\"orange\",\"orange\",\"orange\",\"dark_green\",\"blue\",\"blue\",\"blue\",\"violet\",\"blue\",\"dark_green\",\"dark_green\",\"dark_green\",\"blue\",\"green\",\"blue\",\"blue\",\"blue\",\"blue\",\"blue\",\"dark_green\",\"blue\",\"violet\",\"orange\",\"dark_green\",\"gray\",\"dark_green\",\"green\",\"cyan\",\"dark_green\",\"dark_green\",\"dark_green\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th>text<\\/th>\\n      <th>var<\\/th>\\n      <th>color<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"headerCallback\":\"function(thead) {\\n  $(thead).css('font-size', '70%');\\n}\",\"columnDefs\":[{\"name\":\"text\",\"targets\":0},{\"name\":\"var\",\"targets\":1},{\"name\":\"color\",\"targets\":2}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false,\"rowCallback\":\"function(row, data, displayNum, displayIndex, dataIndex) {\\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'font-size':'70%'});\\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'font-size':'70%'});\\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'font-size':'70%'});\\n}\"},\"selection\":{\"mode\":\"multiple\",\"selected\":null,\"target\":\"row\",\"selectable\":null}},\"evals\":[\"options.headerCallback\",\"options.rowCallback\"],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n:::",
    "supporting": [
      "miro-costas_files\\figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<link href=\"../site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/datatables-binding-0.33/datatables.js\"></script>\n<script src=\"../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js\"></script>\n<link href=\"../site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}